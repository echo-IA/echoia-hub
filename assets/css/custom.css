/* =============================
   echo-IA — custom overrides
   Place at: assets/css/custom.css
   (Loaded after main.css)
   ============================= */


/* ─────────────────────────────
   1) Expandable catalogs
   ───────────────────────────── */

details.catalog {
  border: 1px solid rgba(255,255,255,0.15);
  border-radius: 0.75rem;
  padding: 0.75rem 1rem;
  margin: 0.75rem 0;
  background: rgba(255,255,255,0.02);
}

details.catalog > summary {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 0.75rem;
  align-items: center;
  cursor: pointer;
  list-style: none; /* hide default marker */
}
details.catalog > summary::-webkit-details-marker { display: none; }

details.catalog > summary::after {
  content: "▸";
  transition: transform 0.2s ease;
  opacity: 0.75;
}
details.catalog[open] > summary::after { transform: rotate(90deg); }

details.catalog .name { font-weight: 700; }
details.catalog .name .ext { margin-left: 0.4rem; text-decoration: none; }

details.catalog .meta {
  opacity: 0.8;
  font-size: 0.95em;
  white-space: nowrap;
}

details.catalog .catalog-details {
  margin-top: 0.75rem;
  border-top: 1px dashed rgba(255,255,255,0.15);
  padding-top: 0.75rem;
}

details.catalog .cols {
  display: grid;
  grid-template-columns: repeat(3, minmax(0,1fr));
  gap: 0.75rem 1rem;
}
@media (max-width: 900px) {
  details.catalog .cols { grid-template-columns: 1fr; }
}

details.catalog h5 {
  margin: 0 0 0.25rem 0;
  font-size: 0.95em;
  opacity: 0.9;
}
details.catalog .links {
  margin-top: 0.35rem;
  font-size: 0.95em;
}


/* ─────────────────────────────
   2) Catalogs – filters UI
   ───────────────────────────── */

.catalog-filters .cf-row { display:flex; gap:.75rem; flex-wrap:wrap; align-items:center; margin:.5rem 0; }
.catalog-filters input[type="search"] { flex:1 1 240px; padding:.5rem .6rem; border-radius:.5rem; border:1px solid rgba(255,255,255,.2); }
.catalog-filters .button.small { padding:.35rem .6rem; border-radius:.5rem; }

.catalog-filters .cf-group { min-width: 220px; }
.catalog-filters .cf-label { display:block; font-size:.9em; opacity:.85; margin-bottom:.25rem; }
.catalog-filters .cf-chips { display:flex; gap:.6rem .9rem; flex-wrap:wrap; }
.catalog-filters .cf-chips label { display:flex; gap:.35rem; align-items:center; cursor:pointer; }
.catalog-filters .cf-range { display:flex; align-items:center; gap:.4rem; }
.catalog-filters .cf-range input[type="number"] { width:6rem; padding:.35rem .5rem; border-radius:.5rem; border:1px solid rgba(255,255,255,.2); }


/* ─────────────────────────────
   3) Banner: translucent card + white text
   ───────────────────────────── */

/* Optional solid brand tint behind the banner image (adjust/remove as you like) */
#banner { background-color: #322234 !important; }

#banner .inner {
  background: rgba(0, 0, 0, 0.35);   /* tweak alpha 0.25–0.50 */
  color: #fff;
  border-radius: 1rem;
  padding: 2rem 2.25rem;
  /* backdrop-filter: blur(6px); */   /* optional glass effect */
}

#banner .inner h1,
#banner .inner h2,
#banner .inner h3,
#banner .inner p,
#banner .inner .byline,
#banner .inner a,
#banner .inner strong,
#banner .inner em,
#banner .inner li,
#banner .inner span {
  color: #fff !important;
}

#banner .inner a { border-bottom-color: rgba(255,255,255,0.6) !important; }

#banner .inner .button {
  color: #fff !important;
  border-color: rgba(255,255,255,0.6) !important;
  background: transparent !important;
}
#banner .inner .button:hover { background: rgba(255,255,255,0.12) !important; }

#banner .inner .button.primary {
  background: transparent !important;
  border-color: rgba(255,255,255,0.75) !important;
  color: #fff !important;
}
#banner .inner .button.primary:hover { background: rgba(255,255,255,0.18) !important; }

#banner .inner header,
#banner .inner header h2 { border-color: rgba(255,255,255,0.6) !important; }


/* ─────────────────────────────
   4) Navigation weights (slim by default, bold only on current)
   ───────────────────────────── */

/* Make every tab slim (override theme defaults on both <li> and <a>) */
#header nav ul > li,
#header nav ul > li > a,
#header nav ul > li > a:link,
#header nav ul > li > a:visited {
  font-weight: 400 !important; /* slim */
}

/* Neutralize any nested <strong> or bold elements inside the link */
#header nav ul > li > a strong,
#header nav ul > li > a * {
  font-weight: inherit !important;
}

/* Bold ONLY the active/current tab */
#header nav ul > li.current,
#header nav ul > li.active {
  font-weight: 700 !important;
}
#header nav ul > li.current > a,
#header nav ul > li.active  > a,
#header nav ul > li > a[aria-current="page"] {
  font-weight: 700 !important;
}

/* Don’t change weight on hover/focus (avoid flicker) */
#header nav ul > li > a:hover,
#header nav ul > li > a:focus {
  font-weight: inherit !important;
}


/* ─────────────────────────────
   5) Brand color overrides (global)
   ───────────────────────────── */

a {
  color: #322234 !important;
  border-bottom-color: currentColor;
}
a:hover { background: rgba(50,34,52,0.06); }

.button.primary,
input[type="button"].primary,
input[type="submit"].primary,
input[type="reset"].primary,
button.primary {
  background: #322234 !important;
  border-color: #322234 !important;
  color: #fff !important;
}
.button.primary:hover,
input[type="button"].primary:hover,
input[type="submit"].primary:hover,
input[type="reset"].primary:hover,
button.primary:hover {
  background: #3f2a56 !important;
  border-color: #3f2a56 !important;
}

.button:hover { background: rgba(50,34,52,0.12) !important; }

input[type="text"]:focus,
input[type="password"]:focus,
input[type="email"]:focus,
textarea:focus {
  border-color: #322234 !important;
}

.dropotron > li:hover > a {
  background: #322234 !important;
  color: #fff !important;
}

#header nav ul li.active > a,
#header nav ul li:hover > a {
  background: rgba(50,34,52,0.12) !important;
}


/* ─────────────────────────────
   6) Small UX polish
   ───────────────────────────── */

.buttons.stacked .button,
.button.fit { width: auto; }

.align-center { text-align: center; }
.align-center .buttons {
  display: flex;
  justify-content: center;
  gap: 0.75rem;
  padding-left: 0;
}
.align-center .buttons li { list-style: none; }


/* ─────────────────────────────
   7) Centered, readable content column (site-wide)
   ───────────────────────────── */

/* Tweak these if you want different width/padding */
:root {
  --content-max: 72ch;  /* good reading width */
  --content-pad: 1rem;  /* side breathing room */
}

/* Keep hero/banner truly full-bleed */
#banner,
#banner .inner {
  max-width: none !important;
  margin-inline: 0 !important;
}

/* Hard-center anything inside the main content area.
   These selectors cover typical HTML5 UP/Jekyll wrappers and your block system. */
#main,
#main > .inner,
main,
main > .inner,
.page,
.page > .inner,
.page-content,
.post,
.post > .inner,
.wrapper,
.container,
.blocks,
.blocks > .block,
.blocks > .block > .content {
  max-width: var(--content-max) !important;
  margin-left: auto !important;
  margin-right: auto !important;
  padding-left: var(--content-pad) !important;
  padding-right: var(--content-pad) !important;
  text-align: left !important; /* keep text left-aligned within centered column */
}

/* Prevent images/tables from overflowing the new width */
.page-content img,
.blocks img,
.page-content table,
.blocks table {
  max-width: 100% !important;
  height: auto !important;
}

/* Optional: slightly wider on very large screens */
@media (min-width: 1400px) {
  :root { --content-max: 78ch; }
}

/* ─────────────────────────────
   8) Center ONLY the titles under the banner (works for hero & block titles too)
   ───────────────────────────── */

/* Page/post headers just under the banner */
#main > .inner > header,
.page > .inner > header,
.post > .inner > header {
/* center the container */
  text-align: center !important;
}

/* Center the heading text inside any of those headers */
#main > .inner > header h1,
#main > .inner > header h2,
.page > .inner > header h1,
.page > .inner > header h2,
.post > .inner > header h1,
.post > .inner > header h2 {
  text-align: inherit !important;
  margin-left: auto !important;
  margin-right: auto !important;
}

/* Hero block used on pages like Submit/Tools */
.hero,
.hero h1,
.hero h2,
.hero .title,
.hero .byline {
  text-align: center !important;
  margin-left: auto !important;
  margin-right: auto !important;
}

/* Block titles from your YAML blocks system */
.blocks > .block > header,
.blocks > .block > header h2,
.blocks > .block > .title,
.blocks > .block > .title h2 {
  text-align: center !important;
  margin-left: auto !important;
  margin-right: auto !important;
}

/* ─────────────────────────────
   Alignment utilities (titles only)
   ───────────────────────────── */

/* Apply to section wrappers like .hero or .block when you pass align: ... */
.align-left  > header,
.align-left  > header * ,
.align-left  .title,
.align-left  .byline { text-align: left !important; }

.align-center > header,
.align-center > header * ,
.align-center .title,
.align-center .byline { text-align: center !important; }

.align-right > header,
.align-right > header * ,
.align-right .title,
.align-right .byline { text-align: right !important; }

/* Keep markdown body/content left-aligned even when the block is centered */
.align-center > .content,
.align-right  > .content { text-align: left !important; }


/* ─────────────────────────────
   Alignment utilities (hero + block titles only)
   ───────────────────────────── */

/* HERO include: <header class="special container ..."> */
.special.container.align-center { text-align: center !important; }
.special.container.align-right  { text-align: right  !important; }

/* MD block include alignment (only titles center/right) */
.block.align-center > h2.title,
.block.align-center > header,
.block.align-center > header *,
.block.align-center .title,
.block.align-center .byline { text-align: center !important; }

.block.align-right  > h2.title,
.block.align-right  > header,
.block.align-right  > header *,
.block.align-right  .title,
.block.align-right  .byline { text-align: right !important; }

/* keep body text left-aligned */
.block.align-center > .content,
.block.align-right  > .content { text-align: left !important; }

---
title: "IA 101"
permalink: /tools/ia-101/
layout: page
nav_key: ""  # keep empty so it won't highlight any top-nav tab
# Optional: also hide from sitemap if you truly want it unlisted
# sitemap: false

# Banner overrides (same structure as Meetings)
banner_title: "IA 101"
banner_byline: "Practical steps for IA measurements & modelling"
banner_cta: "Back to Tools"
banner_cta_url: "/tools/"
---

<header class="special container">
  <span class="icon regular fa-book-open"></span>
  <h2><strong>Intrinsic Alignments 101</strong></h2>
  <p>Short, practical guide to IA measurements and modelling.</p>
</header>

<section class="wrapper style4 container">
  <div class="content">

    <!-- Intro -->
    <section>
      <header><h3>What this page is</h3></header>
      <p>
        A short 101 guide to intrinsic alignment (IA). Pipelines differ by dataset type:
        <strong>simulation boxes</strong> vs <strong>lightcone/observational catalogs</strong>.
        Within each, you can measure correlation functions, power spectra, misalignment angles,
        and higher-order stats. For each statistic, pick <em>estimators</em>, gather the right
        <em>inputs</em>, choose <em>codes</em>, and follow common <em>plotting conventions</em>.
        <strong>Modelling</strong> comes after measurements.
      </p>
    </section>

    <!-- 1. Measurements -->
    <section id="measurements">
      <header><h3>1. Measurements</h3></header>

      <!-- 1.1 Simulation boxes -->
      <section>
        <header><h4>1.1 Simulation boxes</h4></header>

        <!-- 1.1.1 Projected correlation functions -->
        <section class="feature-list">
          <section>
            <h5>1.1.1 Projected correlation functions</h5>
            <p>
              Measure position–shape alignments along a chosen line-of-sight (often also get clustering for free).
            </p>
            <ul>
              <li><strong>Estimators:</strong> position–position: \(w_{gg}, \tilde{\xi}_{gg,0}\);
                position–shape: \(w_{g+}, \tilde{\xi}_{g+,2}\).</li>
              <li><strong>Inputs:</strong> \((x,y,z)\) positions for both position and shape samples;
                projected shapes (major-axis direction from projected inertia-tensor eigenvector, axis ratio \(b/a\));
                projection axis (x/y/z) as line-of-sight; box size (units must match positions);
                jackknife regions for covariance: use \(x^3\) sub-boxes with \(x\in\mathbb{Z}\),
                require \(x^3 \gtrsim N_r^{3/2}\) and sub-box size \(\gg\) max \(r\) or \(r_p\).</li>
              <li><strong>Codes:</strong> MeasureIA, Halotools.</li>
              <li><strong>Figures/conventions:</strong> log–log; optionally plot \(r_p\,w_{g+}\) or \(r^2\,\tilde{\xi}_{g+,2}\) to reduce scale trends.</li>
            </ul>
          </section>

          <!-- 1.1.2 3D correlation functions -->
          <section>
            <h5>1.1.2 3D correlation functions</h5>
            <ul>
              <li><strong>Estimators:</strong> \(\xi_{g+}(r)\), \(\xi_{++}(r)\), \(\xi_{gg}(r)\).</li>
              <li><strong>Inputs:</strong> full 3D positions; 3D shape tensors/major axes; box size; binning in \(r\).</li>
              <li><strong>Codes:</strong> Halotools, Corrfunc-style custom pair-counting, MeasureIA modules.</li>
              <li><strong>Figures/conventions:</strong> \(\xi(r)\) vs \(r\) (log–log); highlight 1–2 halo-like features if relevant.</li>
            </ul>
          </section>

          <!-- 1.1.3 Power spectra -->
          <section>
            <h5>1.1.3 Power spectra</h5>
            <ul>
              <li><strong>Estimators:</strong> 3D Fourier modes; \(P_{g+}(k)\), \(P_{++}(k)\).</li>
              <li><strong>Inputs:</strong> density field on grid; shape field on grid; window handling.</li>
              <li><strong>Codes:</strong> custom FFT pipelines, Pylians; use CCL for theory comparison.</li>
              <li><strong>Figures/conventions:</strong> \(P_{g+}(k)\), \(P_{++}(k)\) vs \(k\).</li>
            </ul>
          </section>

          <!-- 1.1.4 Misalignment angles -->
          <section>
            <h5>1.1.4 Misalignment angles</h5>
            <ul>
              <li><strong>Estimators:</strong> angle between galaxy/halo major axis and LSS/tidal directions.</li>
              <li><strong>Inputs:</strong> inertia-tensor eigenvectors; filament/sheet directions or tidal field.</li>
              <li><strong>Codes:</strong> custom routines; simulation-toolkit alignment modules.</li>
              <li><strong>Figures/conventions:</strong> histograms of \(\cos\theta\); compare to randoms.</li>
            </ul>
          </section>

          <!-- 1.1.5 3pt -->
          <section>
            <h5>1.1.5 Three-point (3pt) correlation functions</h5>
            <ul>
              <li><strong>Estimators:</strong> bispectra \(B\) or 3pt \(\zeta\) with shape legs (e.g., \(gg+\), \(g++\)).</li>
              <li><strong>Inputs:</strong> positions, shapes, triangle configs or \(k\)-triangle bins.</li>
              <li><strong>Codes:</strong> custom 3pt estimators; fast bispectrum libraries.</li>
              <li><strong>Figures/conventions:</strong> \(B(k_1,k_2,k_3)\) slices; reduced statistics where helpful.</li>
            </ul>
          </section>
        </section>
      </section>

      <!-- 1.2 Lightcone / Observational -->
      <section>
        <header><h4>1.2 Lightcone / Observational catalogs</h4></header>
        <section class="feature-list">
          <section>
            <h5>1.2.1 Projected correlation functions</h5>
            <ul>
              <li><strong>Estimators:</strong> \(w_{g+}, w_{gg}\) in RA/Dec/\(z\).</li>
              <li><strong>Inputs:</strong> RA, Dec, \(z\); galaxy shapes; survey masks/weights; random catalogs.</li>
              <li><strong>Codes:</strong> TreeCorr.</li>
              <li><strong>Figures/conventions:</strong> as in sims, but mask-aware errors (JK or mocks).</li>
            </ul>
          </section>

          <section>
            <h5>1.2.2 Power spectra</h5>
            <ul>
              <li><strong>Estimators:</strong> pseudo-\(C_\ell\) (mask-aware).</li>
              <li><strong>Inputs:</strong> shear/ellipticity maps, masks, weights; \(\ell\)-binning.</li>
              <li><strong>Codes:</strong> NaMaster (PyMaster).</li>
              <li><strong>Figures/conventions:</strong> \(C_\ell^{g+}, C_\ell^{++}\); E/B decomposition; deconvolved bandpowers.</li>
            </ul>
          </section>

          <section>
            <h5>1.2.3 Misalignment angles (optional)</h5>
            <ul>
              <li><strong>Estimators:</strong> alignments between galaxy PAs and density-field directions.</li>
              <li><strong>Inputs:</strong> galaxy PAs from shapes; density tracers (photo-\(z\)/spec-\(z\)).</li>
              <li><strong>Codes:</strong> custom catalog routines; cross-matching scripts.</li>
              <li><strong>Figures/conventions:</strong> angle distributions; alignment vs redshift.</li>
            </ul>
          </section>
        </section>
      </section>
    </section>

    <!-- 2. Modelling -->
    <section id="modelling">
      <header><h3>2. Modelling</h3></header>

      <section>
        <header><h4>2.1 Angular Power Spectra \(C_\ell\)</h4></header>
        <p><strong>Goal:</strong> Predict IA \(C_\ell\) for cosmic shear and galaxy samples using <code>pyCCL</code>.</p>
        <ul>
          <li><strong>Estimators:</strong> \(C_\ell^{II}, C_\ell^{GI}, C_\ell^{GG}\); cross: \(C_\ell^{gI}, C_\ell^{gG}\).</li>
          <li><strong>Inputs:</strong>
            <ul>
              <li><strong>Cosmology:</strong> <code>ccl.Cosmology(Ω_m, σ_8, h, n_s, …)</code></li>
              <li><strong>Redshift distributions:</strong> 1D \(n(z)\) for sources/lenses on chosen \(z\)-grid</li>
              <li><strong>Multipoles:</strong> array of \(\ell\)</li>
              <li><strong>IA model:</strong> NLA / z-NLA / LF-z-NLA / TATT
                <pre><code class="language-python"># NLA-type example
source = ccl.WeakLensingTracer(cosmo, dndz=(z, nz_s), IA_bias=(z, IA))
# With PT/TATT, construct the PT spectrum and pass as p_of_k
cls = ccl.angular_cl(cosmo, source, source, ells, p_of_k=Pk)</code></pre>
              </li>
              <li><strong>Galaxy bias:</strong> \(b(z)\)
                <pre><code class="language-python">lens = ccl.NumberCountsTracer(cosmo, dndz=(z, nz_l), bias=(z, b))</code></pre>
              </li>
            </ul>
          </li>
          <li><strong>Real-space 2pt:</strong>
            <pre><code class="language-python">xi_plus  = ccl.correlation(cosmo, ell=ells, C_ell=cls,
                           theta=theta_deg, type="GG+", method="FFTLog")
xi_minus = ccl.correlation(cosmo, ell=ells, C_ell=cls,
                           theta=theta_deg, type="GG-", method="FFTLog")</code></pre>
          </li>
          <li><strong>Figures/conventions:</strong> plot \(C_\ell\) or \(\xi_\pm(\theta)\) on log–log; optionally split IA vs lensing or show fractional IA.</li>
        </ul>
      </section>

      <section>
        <header><h4>2.3 Advanced models</h4></header>
        <ul>
          <li>EFT-inspired IA models</li>
          <li>Tidal-field alignment models</li>
          <li>Different tracer populations (halos, centrals, satellites)</li>
        </ul>
      </section>
    </section>

  </div>
</section>

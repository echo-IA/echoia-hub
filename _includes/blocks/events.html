{%- comment -%}
Usage in page front matter:
blocks:
  - type: events
    title: "Upcoming/Current"
    anchor_id: "upcoming"
    items:
      - year: 2025
        title: "CAROLINA Workshop"
        when: "September 15–19, 2025"
        where: "Duke University, Durham, NC"
        what: "echo-IA working sessions on IA measurements, modeling, and pipelines."
        buttons:
          - label: "Workshop page"
            url: "https://echo-ia.github.io/CAROLINA/"
          - label: "Schedule"
            url: "https://echo-ia.github.io/CAROLINA/schedule/"
          - label: "Participants"
            url: "https://echo-ia.github.io/CAROLINA/participants/"
{%- endcomment -%}

{%- assign id = include.block.anchor_id -%}
<section{% if id %} id="{{ id }}"{% endif %} class="feature-list">
  {%- if include.block.title -%}
    <header><h3>{{ include.block.title }}</h3></header>
  {%- endif -%}

  {%- for ev in include.block.items -%}
    <section>
      <h4>
        {%- if ev.year -%}{{ ev.year }} · {% endif -%}
        <strong>{{ ev.title }}</strong>
      </h4>
      <p>
        {%- if ev.when -%}<strong>When:</strong> {{ ev.when }}<br>{%- endif -%}
        {%- if ev.where -%}<strong>Where:</strong> {{ ev.where }}<br>{%- endif -%}
        {%- if ev.what -%}<strong>What:</strong> {{ ev.what }}{%- endif -%}
      </p>

      {%- if ev.buttons -%}
        <ul class="buttons">
          {%- for b in ev.buttons -%}
            <li>
              <a class="button" href="{{ b.url }}"{% if b.url contains '://' %} target="_blank" rel="noopener"{% endif %}>
                {{ b.label }}
              </a>
            </li>
          {%- endfor -%}
        </ul>
      {%- endif -%}
    </section>
  {%- endfor -%}
</section>

{%- comment -%}
Renders a list of featured tools.
If `include.block.items` is omitted, it falls back to `site.data.tools.featured`.
Auto-hides if there are no items.
Usage (in page front matter):
  - type: features
    title: "Featured"
    # items: []   # optional; if omitted, uses _data/tools.yml
{%- endcomment -%}

{%- assign items = include.block.items | default: site.data.tools.featured -%}
{%- if items and items.size > 0 -%}
<section class="feature-list">
  {% if include.block.title %}
    <header><h3>{{ include.block.title }}</h3></header>
  {% endif %}

  {% for ft in items %}
    <section>
      <h4>
        <strong>{{ ft.title }}</strong>{% if ft.subtitle %} â€” {{ ft.subtitle }}{% endif %}
      </h4>

      {% if ft.desc %}<p>{{ ft.desc }}</p>{% endif %}

      {% if ft.buttons %}
        <ul class="buttons">
          {% for b in ft.buttons %}
            <li>
              <a class="button" href="{{ b.url }}"
                 {% if b.url and b.url contains '://' %}target="_blank" rel="noopener"{% endif %}>
                {{ b.label }}
              </a>
            </li>
          {% endfor %}
        </ul>
      {% endif %}
    </section>
  {% endfor %}
</section>
{%- endif -%}
